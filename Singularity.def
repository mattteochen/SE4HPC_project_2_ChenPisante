Bootstrap: docker
From: pcafrica/mk #Scientific computing image

%labels
    Maintainer mattteochen
    Version 1.0

%post
    apt-get update && apt-get install -y \
    build-essential \
    openmpi-bin \
    openmpi-common \
    libopenmpi-dev

    # Create a directory for the test-matrix
    mkdir -p /SE4HPC_project

    # Change to the test-matrix directory
    cd /SE4HPC_project

    pwd

    mkdir build

%files
    build/ /root/SE4HPC_project/build
    cd /root/SE4HPC_project/build
    ls -la

%runscript
    # This script will be executed when the container runs
    cd build && mpirun -n 2 main
